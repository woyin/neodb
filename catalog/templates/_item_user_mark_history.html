{% load i18n %}
{% load duration %}
<ul>
  {% for log in mark.logs %}
    <li>
      {{ log.timestamp|date }}
      {{ log.action_label }}
      <span class="action inline">
        <a hx-post="{% url 'journal:mark_log' mark.item.uuid log.id %}?delete=1"
           hx-target="#log-list">
          <i class="fa-solid fa-square-xmark"></i>
        </a>
      </span>
      <div>
        {% if log.rating_grade %}{{ log.rating_grade|rating_star }}{% endif %}
        {% if log.comment_text %}{{ log.comment_text }}{% endif %}
      </div>
    </li>
  {% empty %}
    <li _="init transition #mark-history opacity to 0 then remove #mark-history">{% trans "no history." %}</li>
  {% endfor %}
</ul>
<div class="action inline">
  <ul>
    <button class="secondary outline"
            hx-post="{% url 'journal:mark_log' mark.item.uuid 0 %}?delete=1"
            hx-target="#log-list"
            hx-confirm="{% trans "sure to clear mark history?" %}">{% trans "clear mark history" %}</button>
  </ul>
  <p>{% trans "clear history will not remove current mark" %}</p>
</div>
